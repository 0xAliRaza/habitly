(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["habits"],{"129e":function(e,t,a){"use strict";a.r(t);var r=a("2909"),n=(a("a4d3"),a("e01a"),a("7a23")),i=function(e){return Object(n["z"])("data-v-748c89fa"),e=e(),Object(n["x"])(),e},c={class:"container"},o={class:"row justify-content-center"},b={class:"col-sm-12"},l={class:"d-flex align-items-center justify-content-end mb-4"},s=Object(n["j"])(" Edit "),u=i((function(){return Object(n["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square ms-1",viewBox:"0 0 16 16"},[Object(n["h"])("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),Object(n["h"])("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1)})),d=Object(n["j"])("Deleting"),h=Object(n["j"])(" Delete "),p=i((function(){return Object(n["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash ms-1",viewBox:"0 0 16 16"},[Object(n["h"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(n["h"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)})),j={key:0,class:"col-lg-6 mb-5"},O={class:"col-sm-12"},m={class:"py-2 d-flex flex-column align-items-center justify-content-center"},f={key:0,class:"alert alert-info my-3 p-2"},g=i((function(){return Object(n["h"])("h1",null,"Habit Details",-1)})),v={class:"py-3"},y={class:"table-responsive"},w={class:"table"},k=i((function(){return Object(n["h"])("th",{scope:"row"},"Title:",-1)})),x=i((function(){return Object(n["h"])("th",{scope:"row"},"Type:",-1)})),F={key:0,class:"badge bg-success rounded-pill"},R={key:1,class:"badge bg-danger rounded-pill"},E={key:0},_=i((function(){return Object(n["h"])("th",{scope:"row"},"Ritual:",-1)})),H={key:1},D=i((function(){return Object(n["h"])("th",{scope:"row"},"Description:",-1)})),T=i((function(){return Object(n["h"])("th",{scope:"row"},"Repetitions:",-1)})),S=i((function(){return Object(n["h"])("th",{scope:"row"},"Streak:",-1)})),I={key:1,class:"text-secondary p-1"},L=i((function(){return Object(n["h"])("th",{scope:"row"},"Created at:",-1)})),N=["title"],A=i((function(){return Object(n["h"])("th",{scope:"row"},"Updated at:",-1)})),G=["title"],V={class:"d-flex justify-content-end align-items-center mb-4 mx-md-5 px-md-5"},B=Object(n["j"])(" Add repetition "),M={key:0,class:"col-sm-12 mb-5"},C={class:"row align-items-center justify-content-center"},U={class:"col-sm-10 col-md-7 col-xl-4"},z=["value"],P={class:"col-sm-2 d-flex justify-content-sm-center justify-content-end mt-2 mt-sm-0"},Y={class:"col-sm-8 mt-2"},q={key:1,class:"col-md-8 col-lg-6 col-xl-5 py-2"},K=i((function(){return Object(n["h"])("h3",{class:"text-center mb-3"},"Repetitions",-1)})),J={class:"calendar__loading"},W=i((function(){return Object(n["h"])("span",{class:"spinner-border spinner-border-sm ms-1",role:"status","aria-hidden":"true"},null,-1)})),X=Object(n["j"])(" Note: Click a date to delete its repetition. ");function $(e,t,a,i,$,Q){var Z=Object(n["E"])("toggle"),ee=Object(n["E"])("submit-button"),te=Object(n["E"])("habit-form"),ae=Object(n["E"])("date-picker"),re=Object(n["E"])("errors"),ne=Object(n["E"])("calendar");return Object(n["w"])(),Object(n["g"])("div",c,[Object(n["h"])("div",o,[i.habitForm.habit?(Object(n["w"])(),Object(n["g"])(n["a"],{key:0},[Object(n["h"])("div",b,[Object(n["h"])("div",l,[Object(n["k"])(Z,{small:"",color:"success",onToggle:t[0]||(t[0]=function(e){return i.habitForm.visible=!i.habitForm.visible}),visibility:i.habitForm.visible},{default:Object(n["O"])((function(){return[s,u]})),_:1},8,["visibility"]),i.habitForm.visible?Object(n["f"])("",!0):(Object(n["w"])(),Object(n["e"])(ee,{key:0,class:"ms-2",loading:i.deleting,onSubmit:i.deleteHabit,small:"",color:"danger"},{loading:Object(n["O"])((function(){return[d]})),default:Object(n["O"])((function(){return[h,p]})),_:1},8,["loading","onSubmit"]))])]),Object(n["k"])(n["b"],{name:"slide-in"},{default:Object(n["O"])((function(){return[i.habitForm.visible?(Object(n["w"])(),Object(n["g"])("div",j,[Object(n["k"])(te,{onOnSubmit:i.updateHabit,loading:i.habitForm.loading,habit:i.habitForm.habit},null,8,["onOnSubmit","loading","habit"])])):Object(n["f"])("",!0)]})),_:1})],64)):Object(n["f"])("",!0),Object(n["h"])("div",O,[Object(n["h"])("div",m,[i.habitForm.habit?(Object(n["w"])(),Object(n["g"])(n["a"],{key:1},[g,Object(n["h"])("div",v,[Object(n["h"])("div",y,[Object(n["h"])("table",w,[Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[k,Object(n["h"])("td",null,Object(n["G"])(i.habitForm.habit.title),1)]),Object(n["h"])("tr",null,[x,Object(n["h"])("td",null,["G"==i.habitForm.habit.type?(Object(n["w"])(),Object(n["g"])("span",F,"Good")):(Object(n["w"])(),Object(n["g"])("span",R,"Bad"))])]),i.habitForm.habit.ritual?(Object(n["w"])(),Object(n["g"])("tr",E,[_,Object(n["h"])("td",null,Object(n["G"])(i.habitForm.habit.ritual),1)])):Object(n["f"])("",!0),i.habitForm.habit.description?(Object(n["w"])(),Object(n["g"])("tr",H,[D,Object(n["h"])("td",null,Object(n["G"])(i.habitForm.habit.description),1)])):Object(n["f"])("",!0),Object(n["h"])("tr",null,[T,Object(n["h"])("td",null,[Object(n["h"])("span",{class:Object(n["r"])(["badge rounded-pill",{"bg-success":i.habitForm.habit.repetitions>0&&"G"===i.habitForm.habit.type,"bg-danger":i.habitForm.habit.repetitions>0&&"B"===i.habitForm.habit.type,"bg-secondary":i.habitForm.habit.repetitions<=0}])},Object(n["G"])(i.habitForm.habit.repetitions),3)])]),Object(n["h"])("tr",null,[S,Object(n["h"])("td",null,[i.needsReload?(Object(n["w"])(),Object(n["g"])("span",I," (Needs reload)")):(Object(n["w"])(),Object(n["g"])("span",{key:0,class:Object(n["r"])(["badge rounded-pill",{"bg-success":i.habitForm.habit.streak>0&&"G"===i.habitForm.habit.type,"bg-danger":i.habitForm.habit.streak>0&&"B"===i.habitForm.habit.type,"bg-secondary":i.habitForm.habit.streak<=0}])},Object(n["G"])(i.habitForm.habit.streak)+" days",3))])]),Object(n["h"])("tr",null,[L,Object(n["h"])("td",{title:i.getFormattedDate(i.habitForm.habit.created_at,!0)},Object(n["G"])(i.getFormattedDate(i.habitForm.habit.created_at)),9,N)]),Object(n["h"])("tr",null,[A,Object(n["h"])("td",{title:i.getFormattedDate(i.habitForm.habit.updated_at,!0)},Object(n["G"])(i.getFormattedDate(i.habitForm.habit.updated_at)),9,G)])])])])])],64)):(Object(n["w"])(),Object(n["g"])("p",f," Habit does not exist. "))])]),Object(n["h"])("div",V,[Object(n["k"])(Z,{class:"",color:"dark",small:"",onToggle:i.toggleRepForm,visibility:i.repetitionForm.visible},{default:Object(n["O"])((function(){return[B]})),_:1},8,["onToggle","visibility"])]),Object(n["k"])(n["b"],{name:"slide-in"},{default:Object(n["O"])((function(){return[i.repetitionForm.visible?(Object(n["w"])(),Object(n["g"])("div",M,[Object(n["h"])("form",{onSubmit:t[2]||(t[2]=Object(n["R"])((function(){}),["prevent"]))},[Object(n["h"])("div",C,[Object(n["h"])("div",U,[Object(n["k"])(ae,{modelValue:i.repetitionForm.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.repetitionForm.date=e}),color:"blue",mode:"date","max-date":new Date,attributes:[{dates:new Date,highlight:!0}]},{default:Object(n["O"])((function(e){var t=e.inputValue,a=e.inputEvents;return[Object(n["h"])("input",Object(n["p"])({class:"form-control",value:t},Object(n["H"])(a),{placeholder:"Select a date when you repeated this habit..."}),null,16,z)]})),_:1},8,["modelValue","max-date","attributes"])]),Object(n["h"])("div",P,[Object(n["k"])(ee,{loading:i.repetitionForm.loading,color:"primary",disabled:!i.repetitionForm.date||!i.habitForm.habit,onSubmit:i.createRepetition},null,8,["loading","disabled","onSubmit"])]),Object(n["h"])("div",Y,[i.repetitionFormError?(Object(n["w"])(),Object(n["e"])(re,{key:0,error:i.repetitionFormError},null,8,["error"])):Object(n["f"])("",!0)])])],32)])):Object(n["f"])("",!0)]})),_:1}),i.habitForm.habit?(Object(n["w"])(),Object(n["g"])("div",q,[K,Object(n["k"])(ne,{ref:"calendarEl",class:"calendar","is-expanded":"","max-date":new Date,attributes:Object(r["a"])(i.calendar.attributes),"onUpdate:fromPage":i.refreshCalendarAttrs,onDayclick:i.deleteRepetition},null,8,["max-date","attributes","onUpdate:fromPage","onDayclick"]),Object(n["h"])("p",J,[i.calendar.loading?(Object(n["w"])(),Object(n["g"])(n["a"],{key:0},[Object(n["j"])(Object(n["G"])(i.calendar.loading)+" ",1),W],64)):(Object(n["w"])(),Object(n["g"])(n["a"],{key:1},[X],64))])])):Object(n["f"])("",!0)])])}var Q=a("1da1"),Z=(a("d81d"),a("96cf"),a("ae48")),ee=a("c377"),te=a("7e4b"),ae=a("df21"),re=a("7b37"),ne=a("1315"),ie=a("6c02"),ce=a("5502"),oe=a("65ad"),be={components:{Toggle:Z["a"],SubmitButton:ee["a"],DatePicker:re["b"],Calendar:re["a"],HabitForm:te["a"],Errors:ae["a"]},setup:function(){var e=Object(ie["c"])(),t=Object(ie["d"])(),a=Object(ce["b"])(),r=Object(n["c"])((function(){return e.params.id})),i=Object(n["A"])({habit:null,visible:!1,loading:!1}),c=Object(n["B"])(!1);Object(n["N"])((function(){if(r.value){var e=a.getters["habits/get"](r.value);e?i.habit=e:t.push({name:"Habits"})}}));var o,b=function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.habit){e.next=2;break}return e.abrupt("return");case 2:return r=new Date,i.loading=!0,e.prev=4,e.next=7,a.dispatch("habits/update",{pk:i.habit.id,formData:t});case 7:return e.prev=7,e.next=10,f({year:r.getFullYear(),month:r.getMonth()+1});case 10:return i.loading=!1,i.visible=!1,e.finish(7);case 13:case"end":return e.stop()}}),e,null,[[4,,7,13]])})));return function(t){return e.apply(this,arguments)}}(),l=Object(n["B"])(!1),s=function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.value=!0,e.next=3,a.dispatch("habits/delete",{pk:i.habit.id});case 3:t.push({name:"Habits"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=Object(n["A"])({date:null,visible:!1,loading:!1}),d=Object(n["B"])(null),h=function(){u.date=null,d.value=null,u.visible=!u.visible},p=function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.date&&i.habit){e.next=2;break}return e.abrupt("return");case 2:return d.value=null,c.value=!0,t=u.date,u.loading=!0,e.prev=6,e.next=9,a.dispatch("habits/createRepetition",{habit:i.habit.id,repetition:{date:t,habit:i.habit.id}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](6),d.value=e.t0;case 14:if(e.prev=14,u.loading=!1,d.value){e.next=21;break}return e.next=19,j.value.move({year:t.getFullYear(),month:t.getMonth()+1});case 19:f({year:t.getFullYear(),month:t.getMonth()+1}),h();case 21:return e.finish(14);case 22:case"end":return e.stop()}}),e,null,[[6,11,14,22]])})));return function(){return e.apply(this,arguments)}}(),j=Object(n["B"])(null),O=Object(n["A"])({loading:!1,attributes:[]}),m=function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.attributesMap.day&&t.attributesMap.day.customData.repetition){e.next=2;break}return e.abrupt("return");case 2:return c.value=!0,O.loading="Deleting",e.prev=4,e.next=7,a.dispatch("habits/deleteRepetition",{habit:i.habit.id,pk:t.attributesMap.day.customData.repetition});case 7:return e.next=9,f({year:t.year,month:t.month},1500);case 9:return e.prev=9,O.loading=null,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[4,,9,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(Q["a"])(regeneratorRuntime.mark((function e(t){var a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:500,clearTimeout(o),O.loading="Updating",o=setTimeout(Object(Q["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(O.loading="Updating",e.prev=1,i.habit){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,oe["a"].index({year:t.year,month:t.month,habit:i.habit.id});case 6:a=e.sent.data,O.attributes=a.map((function(e){var t={key:"day"};return t.dates=e.date,t.highlight={color:"G"==i.habit.type?"green":"red",fillMode:"solid"},t.customData={repetition:e.id},t}));case 8:return e.prev=8,O.loading=null,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])}))),a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?ne["DateTime"].fromISO(e).toLocaleString(ne["DateTime"].DATETIME_FULL):ne["DateTime"].fromISO(e).toLocaleString(ne["DateTime"].DATETIME_MED_WITH_WEEKDAY)};return{habitForm:i,updateHabit:b,deleting:l,deleteHabit:s,repetitionForm:u,repetitionFormError:d,toggleRepForm:h,createRepetition:p,deleteRepetition:m,calendarEl:j,calendar:O,refreshCalendarAttrs:f,needsReload:c,getFormattedDate:g}}},le=(a("4fa4"),a("6b0d")),se=a.n(le);const ue=se()(be,[["render",$],["__scopeId","data-v-748c89fa"]]);t["default"]=ue},1381:function(e,t,a){},"408a":function(e,t,a){var r=a("e330");e.exports=r(1..valueOf)},"4fa4":function(e,t,a){"use strict";a("1381")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("e330"),n=a("1d80"),i=a("577e"),c=a("5899"),o=r("".replace),b="["+c+"]",l=RegExp("^"+b+b+"*"),s=RegExp(b+b+"*$"),u=function(e){return function(t){var a=i(n(t));return 1&e&&(a=o(a,l,"")),2&e&&(a=o(a,s,"")),a}};e.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(e,t,a){var r=a("1626"),n=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var c,o;return i&&r(c=t.constructor)&&c!==a&&n(o=c.prototype)&&o!==a.prototype&&i(e,o),e}},"7e4b":function(e,t,a){"use strict";a("a4d3"),a("e01a");var r=a("7a23"),n={class:"mb-3"},i=Object(r["h"])("label",{for:"title",class:"form-label"},"Title",-1),c={class:"mb-3"},o={for:"ritual",class:"form-label d-inline-flex justify-content-center align-items-center"},b=Object(r["j"])("Ritual "),l={class:"mb-3"},s=Object(r["h"])("label",{for:"description",class:"form-label"},"Description",-1),u={class:"mb-3"},d=Object(r["h"])("label",{for:"type",class:"form-label"},"Type",-1),h=Object(r["h"])("option",{selected:"",disabled:"",value:""},"------",-1),p=Object(r["h"])("option",{value:"G"},"Good",-1),j=Object(r["h"])("option",{value:"B"},"Bad",-1),O=[h,p,j],m={class:"mb-3"},f={class:"d-flex justify-content-end"};function g(e,t,a,h,p,j){var g=Object(r["E"])("info-tooltip"),v=Object(r["E"])("errors"),y=Object(r["E"])("submit-button");return Object(r["w"])(),Object(r["g"])("form",{onSubmit:t[4]||(t[4]=Object(r["R"])((function(){}),["prevent"]))},[Object(r["h"])("div",n,[i,Object(r["P"])(Object(r["h"])("input",{required:"",type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=function(e){return h.form.title=e}),maxlength:"50",placeholder:"E.g. Go for a run"},null,512),[[r["K"],h.form.title]])]),Object(r["h"])("div",c,[Object(r["h"])("label",o,[b,Object(r["k"])(g,{placement:"right",title:"Action that your habit starts with."})]),Object(r["P"])(Object(r["h"])("input",{type:"text",class:"form-control",id:"ritual","onUpdate:modelValue":t[1]||(t[1]=function(e){return h.form.ritual=e}),maxlength:"50",placeholder:"E.g. Wearing running shorts"},null,512),[[r["K"],h.form.ritual]])]),Object(r["h"])("div",l,[s,Object(r["P"])(Object(r["h"])("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.description=e}),maxlength:"250"},"\n      ",512),[[r["K"],h.form.description]])]),Object(r["h"])("div",u,[d,Object(r["P"])(Object(r["h"])("select",{required:"",class:"form-select",id:"type","onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.type=e})},O,512),[[r["J"],h.form.type]])]),Object(r["h"])("div",m,[a.error?(Object(r["w"])(),Object(r["e"])(v,{key:0,error:a.error},null,8,["error"])):Object(r["f"])("",!0)]),Object(r["h"])("div",f,[Object(r["k"])(y,{loading:a.loading,color:"primary",onSubmit:h.onSubmit,disabled:!h.form.type||!h.form.title},null,8,["loading","onSubmit","disabled"])])],32)}var v=a("5530"),y=a("df21"),w=a("c377"),k=a("44ea"),x={name:"HabitForm",components:{Errors:y["a"],InfoTooltip:k["a"],SubmitButton:w["a"]},props:{habit:{type:Object,default:function(){return{title:"",ritual:"",description:"",type:""}}},error:Object,loading:{type:Boolean,required:!0}},setup:function(e,t){var a=t.emit,n=Object(r["A"])({title:e.habit.title,ritual:e.habit.ritual,description:e.habit.description,type:e.habit.type}),i=function(){a("onSubmit",Object(v["a"])({},n))};return{form:n,onSubmit:i}}},F=a("6b0d"),R=a.n(F);const E=R()(x,[["render",g]]);t["a"]=E},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("e330"),c=a("94ca"),o=a("6eeb"),b=a("1a2d"),l=a("7156"),s=a("3a9b"),u=a("d9b5"),d=a("c04e"),h=a("d039"),p=a("241c").f,j=a("06cf").f,O=a("9bf2").f,m=a("408a"),f=a("58a8").trim,g="Number",v=n[g],y=v.prototype,w=n.TypeError,k=i("".slice),x=i("".charCodeAt),F=function(e){var t=d(e,"number");return"bigint"==typeof t?t:R(t)},R=function(e){var t,a,r,n,i,c,o,b,l=d(e,"number");if(u(l))throw w("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=f(l),t=x(l,0),43===t||45===t){if(a=x(l,2),88===a||120===a)return NaN}else if(48===t){switch(x(l,1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(i=k(l,2),c=i.length,o=0;o<c;o++)if(b=x(i,o),b<48||b>n)return NaN;return parseInt(i,r)}return+l};if(c(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var E,_=function(e){var t=arguments.length<1?0:v(F(e)),a=this;return s(y,a)&&h((function(){m(a)}))?l(Object(t),a,_):t},H=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;H.length>D;D++)b(v,E=H[D])&&!b(_,E)&&O(_,E,j(v,E));_.prototype=y,y.constructor=_,o(n,g,_)}},d501b:function(e,t,a){},d81d:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").map,i=a("1dde"),c=i("map");r({target:"Array",proto:!0,forced:!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},eb7e:function(e,t,a){"use strict";a("d501b")},fc02:function(e,t,a){"use strict";a.r(t);var r=a("7a23"),n={class:"container"},i={class:"row"},c={class:"col-sm-12"},o={class:"d-flex justify-content-end align-items-center mb-4"},b=Object(r["j"])(" Create habit "),l={key:0,class:"row justify-content-center habit-form"},s={class:"col-lg-6 mb-5"},u={class:"row"},d={class:"col-sm-12"},h={class:"d-flex flex-column align-items-center justify-content-center py-2"},p={class:"d-flex justify-content-center align-items-center"},j=Object(r["h"])("h1",{class:"m-0"},"Habits",-1),O={key:0,class:"py-3"},m=Object(r["h"])("p",{class:"alert alert-info p-2"},"No habits found.",-1),f=[m],g={key:0,class:"row py-4"},v={class:"col-lg-6 mb-4 mb-lg-0"},y=Object(r["h"])("div",{class:"text-center mb-3"},[Object(r["h"])("h4",{class:""},"Good Habits")],-1),w={class:"col-lg-6"},k=Object(r["h"])("div",{class:"text-center mb-3"},[Object(r["h"])("h4",{class:""},"Bad Habits")],-1);function x(e,t,a,m,x,F){var R=Object(r["E"])("yayy"),E=Object(r["E"])("toggle"),_=Object(r["E"])("habit-form"),H=Object(r["E"])("info-tooltip"),D=Object(r["E"])("habit");return Object(r["w"])(),Object(r["g"])(r["a"],null,[Object(r["k"])(r["b"],{name:"fade"},{default:Object(r["O"])((function(){return[Object(r["P"])(Object(r["k"])(R,null,null,512),[[r["L"],m.yayy]])]})),_:1}),Object(r["h"])("div",n,[Object(r["h"])("div",i,[Object(r["h"])("div",c,[Object(r["h"])("div",o,[Object(r["k"])(E,{color:"dark",onToggle:m.toggleHabitsForm,visibility:m.habitFormVisible},{default:Object(r["O"])((function(){return[b]})),_:1},8,["onToggle","visibility"])])])]),Object(r["k"])(r["b"],{name:"slide-in"},{default:Object(r["O"])((function(){return[m.habitFormVisible?(Object(r["w"])(),Object(r["g"])("div",l,[Object(r["h"])("div",s,[Object(r["k"])(_,{onOnSubmit:m.onHabitFormSubmit,loading:m.habitFormLoading,error:m.habitFormError},null,8,["onOnSubmit","loading","error"])])])):Object(r["f"])("",!0)]})),_:1}),Object(r["h"])("div",u,[Object(r["h"])("div",d,[Object(r["h"])("div",h,[Object(r["h"])("div",p,[j,Object(r["k"])(H,{title:"Your existing habits.",placement:"right"})]),m.habits.length<1?(Object(r["w"])(),Object(r["g"])("div",O,f)):Object(r["f"])("",!0)]),m.habits.length>0?(Object(r["w"])(),Object(r["g"])("div",g,[Object(r["h"])("div",v,[y,(Object(r["w"])(!0),Object(r["g"])(r["a"],null,Object(r["C"])(m.goodHabits,(function(e){return Object(r["w"])(),Object(r["g"])("div",{key:e.id,class:"habit-wrapper mb-2"},[Object(r["k"])(D,{habit:e,onCreateRep:m.createHabitRep,onDeleteRep:m.deleteHabitRep,repetitionLoading:m.repetitionLoading},null,8,["habit","onCreateRep","onDeleteRep","repetitionLoading"])])})),128))]),Object(r["h"])("div",w,[k,(Object(r["w"])(!0),Object(r["g"])(r["a"],null,Object(r["C"])(m.badHabits,(function(e){return Object(r["w"])(),Object(r["g"])("div",{key:e.id,class:"habit-wrapper mb-2"},[Object(r["k"])(D,{habit:e,onCreateRep:m.createHabitRep,onDeleteRep:m.deleteHabitRep,repetitionLoading:m.repetitionLoading},null,8,["habit","onCreateRep","onDeleteRep","repetitionLoading"])])})),128))])])):Object(r["f"])("",!0)])])])],64)}var F=a("1da1"),R=(a("96cf"),a("d263")),E=["onClick"],_={class:"habit__checkbox"},H=["checked","disabled"],D={key:1,class:"spinner-border spinner-border-sm text-primary",role:"status","aria-hidden":"true"};function T(e,t,a,n,i,c){var o=Object(r["E"])("router-link");return Object(r["w"])(),Object(r["g"])("div",{class:Object(r["r"])(["habit",{"habit--good":"G"===a.habit.type,"habit--bad":"B"===a.habit.type}]),tabindex:"0"},[Object(r["k"])(o,{custom:"",to:"/habits/"+a.habit.id},{default:Object(r["O"])((function(e){var t=e.navigate;return[Object(r["h"])("div",{onClick:t,class:"habit__text"},[Object(r["h"])("span",null,Object(r["G"])(a.habit.title),1)],8,E)]})),_:1},8,["to"]),Object(r["h"])("div",_,[a.repetitionLoading!==a.habit.id?(Object(r["w"])(),Object(r["g"])("input",{key:0,type:"checkbox",class:"form-check-input",onClick:t[0]||(t[0]=Object(r["R"])((function(){return n.toggleRep&&n.toggleRep.apply(n,arguments)}),["prevent"])),checked:a.habit.todays_repetition,disabled:a.repetitionLoading,title:"Toggle today's repetition"},null,8,H)):(Object(r["w"])(),Object(r["g"])("span",D))])],2)}a("a9e3");var S={name:"Habit",emits:["deleteRep","createRep"],props:{repetitionLoading:Number,habit:{required:!0,type:Object}},setup:function(e,t){var a=t.emit,r=function(){e.habit.todays_repetition?a("deleteRep",e.habit):a("createRep",e.habit)};return{toggleRep:r}}},I=(a("eb7e"),a("6b0d")),L=a.n(I);const N=L()(S,[["render",T],["__scopeId","data-v-61ede488"]]);var A=N,G=a("7e4b"),V=a("44ea"),B=a("ae48"),M=a("5502"),C={name:"Habits",components:{Yayy:R["a"],Habit:A,HabitForm:G["a"],Toggle:B["a"],InfoTooltip:V["a"]},setup:function(){var e=Object(M["b"])(),t=Object(r["B"])(!1),a=Object(r["B"])(!1),n=Object(r["B"])(null),i=Object(r["B"])(!1),c=function(){var r=Object(F["a"])(regeneratorRuntime.mark((function r(i){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.value=!0,r.prev=1,r.next=4,e.dispatch("habits/create",{formData:i});case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](1),n.value=r.t0;case 9:return r.prev=9,a.value=!1,n.value||(t.value=!1),r.finish(9);case 13:case"end":return r.stop()}}),r,null,[[1,6,9,13]])})));return function(e){return r.apply(this,arguments)}}(),o=function(){t.value=!t.value,n.value=null},b=Object(r["B"])(null),l=function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b.value=a.id,n.value=null,t.prev=2,t.next=5,e.dispatch("habits/createRepetition",{habit:a.id,repetition:{date:new Date,habit:a.id}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),r=t.t0;case 10:return t.prev=10,b.value=null,r||"G"!=a.type||(i.value=!0,setTimeout((function(){i.value=!1}),1e3)),t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[2,7,10,14]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b.value=a.id,t.prev=1,t.next=4,e.dispatch("habits/deleteRepetition",{habit:a.id,pk:a.todays_repetition.id,repetition:a.todays_repetition});case 4:return t.prev=4,b.value=null,t.finish(4);case 7:case"end":return t.stop()}}),t,null,[[1,,4,7]])})));return function(e){return t.apply(this,arguments)}}();return{habitFormVisible:t,habitFormLoading:a,onHabitFormSubmit:c,toggleHabitsForm:o,repetitionLoading:b,createHabitRep:l,deleteHabitRep:s,habitFormError:n,yayy:i,goodHabits:Object(r["c"])((function(){return e.getters["habits/good"]})),badHabits:Object(r["c"])((function(){return e.getters["habits/bad"]})),habits:Object(r["c"])((function(){return e.state.habits.models}))}}};const U=L()(C,[["render",x]]);t["default"]=U}}]);
//# sourceMappingURL=habits.1436ddb5.js.map